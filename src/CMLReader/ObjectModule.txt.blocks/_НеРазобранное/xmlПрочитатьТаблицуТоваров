//читает "КоммерческаяИнформация - Каталог - Товары", т.е. собственно товары
Процедура xmlПрочитатьТаблицуТоваров(Объект,Таблицы)
	
	СтруктураДопПолей	= Таблицы.СтруктураДопПолей;
	ЗначенияДопПолей	= Таблицы.ЗначенияДопПолей;
	ТаблицаТоваров		= Таблицы.ТаблицаТоваров;
	
	Для Каждого ТоварXDTO Из ПолучитьСписокXDTO(Объект.Каталог.Товары.Товар) Цикл
		
		ДоступныеСвойстваТекущегоТовара = ТоварXDTO.Свойства();
		
		НовСтрокаСправочника = ТаблицаТоваров.Добавить();
		
		НовСтрокаСправочника.Код					= ТоварXDTO.Ид;
		//В разных типовых конфигурациях код то выгружается, то не выгружается.
		//Если кода нет, то будем вместо него использовать ID.
		
		НовСтрокаСправочника.Наименование			= ТоварXDTO.Наименование;
		
		Если Объект.ВерсияСхемы = "2.05" Тогда
			НовСтрокаСправочника.БазоваяЕдиница			= ТоварXDTO.БазоваяЕдиница.Код;
		Иначе	
			НовСтрокаСправочника.БазоваяЕдиница			= ТоварXDTO.БазоваяЕдиница;
		КонецЕсли;	
		
		Если Не ДоступныеСвойстваТекущегоТовара.Получить("СтавкиНалогов")=Неопределено Тогда
			Для Каждого Ставка Из ПолучитьСписокXDTO(ТоварXDTO.СтавкиНалогов.СтавкаНалога) Цикл
				Если Ставка.Наименование = "НДС" Тогда
					НовСтрокаСправочника.СтавкаНДС				= ПолучитьСвойствоXDTO(Ставка, "Ставка");
				КонецЕсли;
			КонецЦикла;
		КонецЕсли;
		
		Если Не ДоступныеСвойстваТекущегоТовара.Получить("Группы")=Неопределено Тогда
			НовСтрокаСправочника.Группа				= ТоварXDTO.Группы.Ид;
		КонецЕсли;
		
		Для Каждого ЗначениеРеквизита Из ПолучитьСписокXDTO(ТоварXDTO.ЗначенияРеквизитов.ЗначениеРеквизита) Цикл
			
			_Значение = ПолучитьСвойствоXDTO(ЗначениеРеквизита,"Значение");
			Если ЗначениеРеквизита.Наименование = "Полное наименование" Тогда
				НовСтрокаСправочника.ПолноеНаименование				= _Значение;
			ИначеЕсли ЗначениеРеквизита.Наименование = "Вес" Тогда
				НовСтрокаСправочника.Вес							= _Значение;
			ИначеЕсли ЗначениеРеквизита.Наименование = "Код" Тогда
				НовСтрокаСправочника.Код							= _Значение;
			КонецЕсли;
			
		КонецЦикла;
		
		Если НЕ ДоступныеСвойстваТекущегоТовара.Получить("Артикул")=Неопределено Тогда
			Если ТипЗнч(ТоварXDTO.Артикул)=Тип("Строка") Тогда//костыль, увы
				НовСтрокаСправочника.Артикул				= ТоварXDTO.Артикул;
			КонецЕсли;
		КонецЕсли;
		
		Если НЕ ДоступныеСвойстваТекущегоТовара.Получить("Штрихкод")=Неопределено Тогда
			Если ТипЗнч(ТоварXDTO.Штрихкод)=Тип("Строка") Тогда//костыль, увы
				НовСтрокаСправочника.Штрихкод = ТоварXDTO.Штрихкод;
			КонецЕсли;
		КонецЕсли;
		
		_ЗначенияСвойств = ПолучитьСвойствоXDTO(ТоварXDTO,"ЗначенияСвойств");
		Если НЕ _ЗначенияСвойств=Неопределено Тогда
			Для Каждого ДопСвойство Из ПолучитьСписокXDTO(ТоварXDTO.ЗначенияСвойств.ЗначенияСвойства) Цикл
				СтрокиЗначенийСвойств = ЗначенияДопПолей.НайтиСтроки(Новый Структура("ИДСвойства,ИДЗначения",ДопСвойство.ИД,ДопСвойство.Значение));
				Если СтрокиЗначенийСвойств.Количество()=1 Тогда
					НовСтрокаСправочника["AdditionalField_"+СтрЗаменить(ДопСвойство.ИД,"-","_")] = СтрокиЗначенийСвойств[0].Значение;
				КонецЕсли;
			КонецЦикла;
		КонецЕсли;
		
	КонецЦикла;
	
КонецПроцедуры
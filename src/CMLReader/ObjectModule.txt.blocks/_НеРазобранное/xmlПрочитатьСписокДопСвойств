//читает "КоммерческаяИнформация - Классификатор - Свойства" вместе с допустимыми значениями
Процедура xmlПрочитатьСписокДопСвойств(Объект,Таблицы)
	
	СтруктураДопПолей	= Таблицы.СтруктураДопПолей;
	ЗначенияДопПолей	= Таблицы.ЗначенияДопПолей;
	
	Если Объект.Классификатор.Свойства().Получить("Свойства")=Неопределено Тогда
		Возврат;
	КонецЕсли;	
	
	Сч = 0;
	Для Каждого ОписаниеПоля Из ПолучитьСписокXDTO(Объект.Классификатор.Свойства.Свойство) Цикл
		Сч = Сч+1;
		НовПоле = СтруктураДопПолей.Добавить();
		НовПоле.ВнутреннееИмя	= "AdditionalField_"+СтрЗаменить(Строка(ОписаниеПоля.ИД),"-","_");
		НовПоле.Представление	= ОписаниеПоля.Наименование;
		
		Если ОписаниеПоля.ТипЗначений = "Справочник" Тогда
			
			//пропустим свойства, у которых не указан список
			Если НЕ ОписаниеПоля.Свойства().Получить("ВариантыЗначений")=Неопределено Тогда
				
				Для Каждого ВариантЗначения Из ПолучитьСписокXDTO(ОписаниеПоля.ВариантыЗначений.Справочник) Цикл
					НовВариантЗначения = ЗначенияДопПолей.Добавить();
					НовВариантЗначения.ИДСвойства	= ОписаниеПоля.ИД;
					НовВариантЗначения.ИДЗначения	= ВариантЗначения.ИДЗначения;
					НовВариантЗначения.Значение		= ВариантЗначения.Значение;
				КонецЦикла;
				
			КонецЕсли;
			
		КонецЕсли;
		
	КонецЦикла;
	
	ЗначенияДопПолей.Индексы.Добавить("ИДСвойства,ИДЗначения");
	
	//все доп.поля допишем прямо в таблицу товаров как колонки
	ТипСтрока100 = Новый ОписаниеТипов("Строка",,,Новый КвалификаторыСтроки(100,ДопустимаяДлина.Переменная));
	Для Каждого ОписаниеДополнительногоПоля Из Таблицы.СтруктураДопПолей Цикл
		Таблицы.ТаблицаТоваров.Колонки.Добавить(ОписаниеДополнительногоПоля.ВнутреннееИмя,ТипСтрока100,ОписаниеДополнительногоПоля.Представление);//в будущем можно типизировать
	КонецЦикла;
	
КонецПроцедуры